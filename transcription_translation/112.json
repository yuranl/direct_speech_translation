{"wav_id": "112", "speaker": "112", "offset": "1.090", "duration": "0.630", "wav": "112.wav", "translation": "Hello, everyone!", "transcript": "大家好！"}
{"wav_id": "112", "speaker": "112", "offset": "1.790", "duration": "3.190", "wav": "112.wav", "translation": "Welcome to our advanced course on the UNIT dialogue system.", "transcript": "欢迎各位关注我们的UNIT对话系统高级课程。"}
{"wav_id": "112", "speaker": "112", "offset": "5.340", "duration": "2.990", "wav": "112.wav", "translation": "I'm Ji Yousheng, an R&D engineer for Baidu UNIT platform.", "transcript": "我是百度UNIT平台的研发工程师纪友升。"}
{"wav_id": "112", "speaker": "112", "offset": "8.670", "duration": "4.360", "wav": "112.wav", "translation": "In this lesson, we will introduce the UNIT open-source dialogue management framework, the DM Kit.", "transcript": "这节课为大家介绍一下UNIT开源的对话管理框架DM Kit。"}
{"wav_id": "112", "speaker": "112", "offset": "14.700", "duration": "3.090", "wav": "112.wav", "translation": "First, let's take a quick look at the overall structure of the dialogue system.", "transcript": "首先我们来看一下对话系统的整体结构。"}
{"wav_id": "112", "speaker": "112", "offset": "18.060", "duration": "7.260", "wav": "112.wav", "translation": "In general, we can divide the task-oriented dialogue system into three modules: the dialogue understanding module, the dialogue management module, and the resource retrieval & task execution module.", "transcript": "一般来说我们可以将任务型对话系统分解为对话理解、对话管理、资源检索与任务执行三个模块。"}
{"wav_id": "112", "speaker": "112", "offset": "25.690", "duration": "6.790", "wav": "112.wav", "translation": "For example, a user inputs \"help me book a standard room at Home Inn in Shangdi, Beijing for today\" in the hotel booking dialogue system.", "transcript": "以预定酒店的对话系统中用户输入了“帮我预定今天北京如家上地店的标间”这样一句话为例。"}
{"wav_id": "112", "speaker": "112", "offset": "33.030", "duration": "6.400", "wav": "112.wav", "translation": "The dialogue understanding module receives the natural language input, processes it, and then outputs the appropriate intent and slots.", "transcript": "对话理解模块接收到了这样的一个自然语言输入并进行处理，输出这句话对应的意图以及词槽。"}
{"wav_id": "112", "speaker": "112", "offset": "39.680", "duration": "4.850", "wav": "112.wav", "translation": "The intent here is to book a hotel, and the slots include the hotel name, room type and time of stay.", "transcript": "这里的意图为预订酒店，词槽包括了酒店、房型以及时间。"}
{"wav_id": "112", "speaker": "112", "offset": "44.740", "duration": "3.790", "wav": "112.wav", "translation": "The intent and slots will later be used as the inputs for the dialogue management module.", "transcript": "这个意图与词槽将作为我们后续对话管理模块的输入。"}
{"wav_id": "112", "speaker": "112", "offset": "48.840", "duration": "7.050", "wav": "112.wav", "translation": "The dialogue management module selects actions for execution based on the intent, slots, and the current dialogue state.", "transcript": "对话管理模块根据输入的意图以及词槽，结合当前的对话状态，选择对应的动作进行执行。"}
{"wav_id": "112", "speaker": "112", "offset": "56.200", "duration": "8.880", "wav": "112.wav", "translation": "So, in our example, based on the intent of booking a hotel and the slots such as hotel name, room type and time of stay, the dialogue management module decides to proceed to execute a booking.", "transcript": "例如这里根据预订酒店的意图以及酒店、房型、时间这些词槽对话管理模块判断现在可以开始进行酒店预订。"}
{"wav_id": "112", "speaker": "112", "offset": "65.530", "duration": "6.060", "wav": "112.wav", "translation": "It then selects the 'book a hotel' action, and instructs the resource retrieval & task execution module to perform the operation.", "transcript": "从而选择预订酒店的动作，指引后续资源检索与任务执行模块运行对应的操作。"}
{"wav_id": "112", "speaker": "112", "offset": "71.800", "duration": "6.690", "wav": "112.wav", "translation": "The resource retrieval & task execution module calls an external service to book the hotel, and sends the result to the user in the form of natural language.", "transcript": "调用预订酒店的外部服务，完成酒店的预订，并将预定结果以自然语言的形式反馈给用户。"}
{"wav_id": "112", "speaker": "112", "offset": "78.600", "duration": "2.440", "wav": "112.wav", "translation": "In this way, a dialogue interaction is completed.", "transcript": "这样我们就完成了一轮的对话交互。"}
{"wav_id": "112", "speaker": "112", "offset": "83.380", "duration": "5.080", "wav": "112.wav", "translation": "So, what is the framework of UNIT corresponding to this dialogue system architecture?", "transcript": "好，那这样的一个对话系统架构对应到UNIT上来是什么样的一个框架呢？"}
{"wav_id": "112", "speaker": "112", "offset": "88.820", "duration": "5.710", "wav": "112.wav", "translation": "To simplify, we can divide the framework of UNIT system into two parts, similar to the dialogue system modules we just looked at.", "transcript": "与前面的对话系统拆解类似，我们可以将UNIT的系统框架简单地拆解为两部分。"}
{"wav_id": "112", "speaker": "112", "offset": "94.930", "duration": "2.060", "wav": "112.wav", "translation": "One is the dialogue understanding service on the cloud.", "transcript": "一个是云端的对话理解服务。"}
{"wav_id": "112", "speaker": "112", "offset": "97.130", "duration": "3.700", "wav": "112.wav", "translation": "It parses the natural language input into dialogue intents and slots.", "transcript": "它负责将自然语言输入解析为对话意图以及词槽。"}
{"wav_id": "112", "speaker": "112", "offset": "101.130", "duration": "4.110", "wav": "112.wav", "translation": "The other part covers dialogue management,  resource retrieval and task execution.", "transcript": "另外一个部分是对话管理以及资源检索与任务执行模块。"}
{"wav_id": "112", "speaker": "112", "offset": "105.490", "duration": "4.010", "wav": "112.wav", "translation": "UNIT offers developers a choice of two methods to realize this part.", "transcript": "这一个部分UNIT提供了两种方式来供开发者选择实现。"}
{"wav_id": "112", "speaker": "112", "offset": "110.190", "duration": "6.240", "wav": "112.wav", "translation": "The first choice allows developers to achieve simple dialogue responses using the response utterance configuration on the cloud platform.", "transcript": "第一个选择是开发者可以通过在云端平台配置换话术回应来实现简单的对话回复。"}
{"wav_id": "112", "speaker": "112", "offset": "116.650", "duration": "4.980", "wav": "112.wav", "translation": "The second choice is to use the DM Kit, the offline dialogue management framework, and that is what we will focus on in this lesson.", "transcript": "第二个选择就是本节课我们将要主要介绍的DM Kit离线对话管理框架。"}
{"wav_id": "112", "speaker": "112", "offset": "121.990", "duration": "5.190", "wav": "112.wav", "translation": "Using the DM Kit, developers can realize more complex dialogue process management and task execution.", "transcript": "通过使用DM Kit，开发者可以实现更为复杂的对话流程管理以及任务执行。"}
{"wav_id": "112", "speaker": "112", "offset": "127.390", "duration": "4.210", "wav": "112.wav", "translation": "Later, we will look at the design principles and usage of the DM Kit in more details.", "transcript": "后面我们将就DM Kit的设计原理以及使用方式展开进行介绍。"}
{"wav_id": "112", "speaker": "112", "offset": "134.110", "duration": "2.740", "wav": "112.wav", "translation": "But first, let's take a look at the abstract dialogue process in the DM Kit.", "transcript": "首先我们来看一下DM Kit中的对话抽象。"}
{"wav_id": "112", "speaker": "112", "offset": "137.100", "duration": "4.450", "wav": "112.wav", "translation": "There are two main concepts about dialogue in the DM Kit, namely dialogue state and policy.", "transcript": "在DM Kit中，对话主要有两个概念，分别是对话状态和policy。"}
{"wav_id": "112", "speaker": "112", "offset": "141.820", "duration": "3.880", "wav": "112.wav", "translation": "Dialogue state' refers to the state of a dialogue between the current user and the system. ", "transcript": "对话状态表示当前用户与系统的对话所处的状态。"}
{"wav_id": "112", "speaker": "112", "offset": "145.990", "duration": "3.350", "wav": "112.wav", "translation": "The policy can be understood as the most basic unit of dialogue processing logic.", "transcript": "而policy可以理解为最基本的对话处理逻辑单元。"}
{"wav_id": "112", "speaker": "112", "offset": "149.790", "duration": "10.300", "wav": "112.wav", "translation": "For each turn of dialogue requests, the DM Kit receives a natural language input from a user, accesses the the dialogue understanding module on the cloud, and then parses the natural language input into dialogue intents and slots.", "transcript": "对于每一轮的对话请求，DM Kit接收到用户的自然语言输入，访问云端对话理解服务，将自然语言解析为对话意图以及词槽。"}
{"wav_id": "112", "speaker": "112", "offset": "160.350", "duration": "6.720", "wav": "112.wav", "translation": "According to the intents, slots, and current dialogue state, the DM Kit selects the appropriate policy for execution.", "transcript": "根据得到的意图与词槽同时结合当前的对话状态，DM Kit可以选择对应的policy进行执行。"}
{"wav_id": "112", "speaker": "112", "offset": "167.520", "duration": "6.160", "wav": "112.wav", "translation": "For example, if we choose policy A, the DM Kit executes the dialogue processing logic described in policy A.", "transcript": "例如我们假设这里选择了policy A,则DM Kit会执行policy A所描述的对话处理逻辑。"}
{"wav_id": "112", "speaker": "112", "offset": "173.980", "duration": "9.470", "wav": "112.wav", "translation": "During processing, it may access external services or a knowledge base to get data, and generate utterances or commands as the final response of the system.", "transcript": "处理的过程中可能会访问外部服务或者知识库获取数据，并生成话术或者指令作为系统最终的技能回复。"}
{"wav_id": "112", "speaker": "112", "offset": "183.780", "duration": "12.230", "wav": "112.wav", "translation": "Once policy A has been executed, the DM Kit updates the current dialogue state to the state specified in policy A, for example, dialogue state 2, thereby implementing the change of dialogue state.", "transcript": "同时在policy A执行完成之后，DM Kit会将当前的对话状态更新至policy A所指定的对话状态，例如这里的对话状态2，从而实现对话状态的跳转更新。"}
{"wav_id": "112", "speaker": "112", "offset": "198.310", "duration": "3.610", "wav": "112.wav", "translation": "Next, we will take a closer look at the concept of policy in the DM Kit.", "transcript": "下面我们主要来介绍一下DM Kit中policy的概念。"}
{"wav_id": "112", "speaker": "112", "offset": "202.310", "duration": "3.310", "wav": "112.wav", "translation": "A policy is the most basic unit in the DM Kit to process dialogue logic.", "transcript": "Policy是DM Kit中处理对话逻辑最基本的单元。"}
{"wav_id": "112", "speaker": "112", "offset": "205.960", "duration": "3.390", "wav": "112.wav", "translation": "It defines the complete behavior of the skills in a specific dialogue state.", "transcript": "它定义了特定对话状态下技能的完整行为。"}
{"wav_id": "112", "speaker": "112", "offset": "209.550", "duration": "5.410", "wav": "112.wav", "translation": "A policy is made up of three parts: triggers, business parameters, and reply contents.", "transcript": "一个policy包括了三个部分，分别是触发条件、业务参数以及答复内容。"}
{"wav_id": "112", "speaker": "112", "offset": "215.170", "duration": "3.750", "wav": "112.wav", "translation": "Let's consider these three parts in the context of the hotel booking example.", "transcript": "下面我们以预定酒店的对话例子来了解一下这三个部分。"}
{"wav_id": "112", "speaker": "112", "offset": "220.870", "duration": "1.720", "wav": "112.wav", "translation": "The first part is the triggers.", "transcript": "首先是触发条件。"}
{"wav_id": "112", "speaker": "112", "offset": "222.860", "duration": "3.930", "wav": "112.wav", "translation": "This defines the conditions under which a policy is selected.", "transcript": "policy的触发条件定义了这个policy在什么条件下会被选择。"}
{"wav_id": "112", "speaker": "112", "offset": "227.210", "duration": "8.310", "wav": "112.wav", "translation": "For example, we can define the trigger of a policy as the intent being hotel booking, slots being hotel name, room type and time of stay, and state being 001.", "transcript": "例如这里我们定义了一个policy触发条件，它的意图是预定酒店，词槽是酒店、房型和时间，状态是001。"}
{"wav_id": "112", "speaker": "112", "offset": "235.700", "duration": "7.050", "wav": "112.wav", "translation": "While the dialogue system is in the state 001, a user inputs the sentence \"help me book a standard room at Home Inn in Shangdi Beijing for today.\"", "transcript": "那么当对话系统处于001状态时，用户输入“帮我预订今天北京如家上地店的标间”这句话。"}
{"wav_id": "112", "speaker": "112", "offset": "242.920", "duration": "7.800", "wav": "112.wav", "translation": "The natural language understanding module parses the input and obtains the intent of hotel booking and slots of hotel name, room type and time of stay.", "transcript": "我们通过自然语言理解服务，解析得到预订酒店的意图，并且包含了酒店、房型和时间三个词槽。"}
{"wav_id": "112", "speaker": "112", "offset": "250.800", "duration": "3.440", "wav": "112.wav", "translation": "Then the policy defined with this trigger will be selected for execution.", "transcript": "那么定义了这个触发条件的policy会被选择执行。"}
{"wav_id": "112", "speaker": "112", "offset": "256.280", "duration": "2.410", "wav": "112.wav", "translation": "The second part of a policy concerns business parameters.", "transcript": "Policy的第二个部分是业务参数。"}
{"wav_id": "112", "speaker": "112", "offset": "258.960", "duration": "3.740", "wav": "112.wav", "translation": "It defines the parameters to be used when processing the dialogue logic.", "transcript": "它定义了这个对话逻辑处理过程中需要使用的参数。"}
{"wav_id": "112", "speaker": "112", "offset": "262.860", "duration": "4.160", "wav": "112.wav", "translation": "These parameters can be slot values or function results.", "transcript": "这里的参数可以是词槽值，也可以是函数执行的结果。"}
{"wav_id": "112", "speaker": "112", "offset": "267.210", "duration": "8.960", "wav": "112.wav", "translation": "Developers can define the dialogue processing logic, obtain parameters, access external services, or execute functions to get the data needed for dialogue responses.", "transcript": "开发者可以在这里定义对话处理逻辑、获取参数、访问外部服务或者执行函数，得到我们对话回复所需要的数据。"}
{"wav_id": "112", "speaker": "112", "offset": "276.430", "duration": "5.940", "wav": "112.wav", "translation": "In this example, we have defined three variables for the values of the three slots: hotel name, room type and time of stay.", "transcript": "比如这个例子，我们定义了三个变量，分别获取了酒店、房型、时间三个词槽值。"}
{"wav_id": "112", "speaker": "112", "offset": "282.900", "duration": "2.170", "wav": "112.wav", "translation": "Lastly, we have also defined a function as a variable.", "transcript": "最后定义了一个函数类型的变量。"}
{"wav_id": "112", "speaker": "112", "offset": "285.260", "duration": "5.510", "wav": "112.wav", "translation": "This function books a hotel based on the previous three variables, and then assigns the result to this last variable.", "transcript": "这个函数根据前面三个变量进行酒店预订，然后将预定结果赋值给这个变量。"}
{"wav_id": "112", "speaker": "112", "offset": "292.810", "duration": "2.370", "wav": "112.wav", "translation": "The last part of a policy is to define the output.", "transcript": "Policy的最后一个部分是输出定义。"}
{"wav_id": "112", "speaker": "112", "offset": "295.370", "duration": "2.300", "wav": "112.wav", "translation": "For each policy, the output consists of three parts.", "transcript": "每一个policy的输出包括三个部分。"}
{"wav_id": "112", "speaker": "112", "offset": "298.120", "duration": "1.860", "wav": "112.wav", "translation": "The first part is condition assertion.", "transcript": "第一个部分是条件限制。"}
{"wav_id": "112", "speaker": "112", "offset": "300.130", "duration": "2.620", "wav": "112.wav", "translation": "It specifies the conditions to be met for using the current output.", "transcript": "指定使用当前输出所需要满足的条件。"}
{"wav_id": "112", "speaker": "112", "offset": "303.190", "duration": "2.090", "wav": "112.wav", "translation": "The second part concerns the result of the dialogue response.", "transcript": "第二部分是对话回复结果。"}
{"wav_id": "112", "speaker": "112", "offset": "305.520", "duration": "5.120", "wav": "112.wav", "translation": "It can use the pre-defined business parameters to complete a template which can then generate and return an utterance.", "transcript": "它可以使用我们前面定义好的业务参数填充到模板里，生成话术返回。"}
{"wav_id": "112", "speaker": "112", "offset": "311.190", "duration": "1.810", "wav": "112.wav", "translation": "The third part deals with the state update.", "transcript": "第三个部分是状态更新。"}
{"wav_id": "112", "speaker": "112", "offset": "313.100", "duration": "5.550", "wav": "112.wav", "translation": "It specifies the system's new dialogue state after the current policy has been processed.", "transcript": "它指定了这个policy处理结束之后，我们的系统应该进入到的一个新的对话状态。"}
{"wav_id": "112", "speaker": "112", "offset": "319.130", "duration": "3.830", "wav": "112.wav", "translation": "At the same time it can also store parameters, and provide them for later turns of dialogue.", "transcript": "同时它还可以保存一些参数，提供给后续的轮次进行使用。"}
{"wav_id": "112", "speaker": "112", "offset": "323.840", "duration": "6.920", "wav": "112.wav", "translation": "In our example, we must first determine whether the result of the hotel booking is '1', that is,whether the booking is successful.", "transcript": "在这个对话例子中，我们首先判断预订酒店结果是否为一，也就是预定是否成功。"}
{"wav_id": "112", "speaker": "112", "offset": "330.830", "duration": "6.370", "wav": "112.wav", "translation": "If yes, we need to return the appropriate utterance to the user, and then specify that the current dialogue state needs to be updated to 003.", "transcript": "如果预定成功，则返回相应的话术，并指定当前的对话状态需要更新为003。"}
{"wav_id": "112", "speaker": "112", "offset": "339.910", "duration": "3.530", "wav": "112.wav", "translation": "OK, we just talked about how to define a policy.", "transcript": "好的，刚才我们介绍了单个policy是如何定义的。"}
{"wav_id": "112", "speaker": "112", "offset": "343.660", "duration": "3.660", "wav": "112.wav", "translation": "How does a policy take effect during the running of the DM Kit?", "transcript": "那么DM Kit实际运行中policy是怎么生效的呢?"}
{"wav_id": "112", "speaker": "112", "offset": "347.540", "duration": "2.350", "wav": "112.wav", "translation": "Let's take a look at the service architecture of the DM Kit.", "transcript": "我们来看一下DM Kit的服务架构。"}
{"wav_id": "112", "speaker": "112", "offset": "350.270", "duration": "2.440", "wav": "112.wav", "translation": "At the core of the DM Kit is a dialogue management engine.", "transcript": "DM Kit的核心是一个对话管理引擎。"}
{"wav_id": "112", "speaker": "112", "offset": "353.030", "duration": "7.770", "wav": "112.wav", "translation": "In this engine, the dialogue process for each skill is defined in a json file, which includes many policies.", "transcript": "在这个引擎上,每一个技能的对话流程通过一个json文件来定义，这个json文件其实就包括了一系列的policy。"}
{"wav_id": "112", "speaker": "112", "offset": "361.140", "duration": "6.370", "wav": "112.wav", "translation": "When we run the DM Kit, each request first accesses the skills configured on the cloud, and obtains the parsing result.", "transcript": "在DM Kit的运行过程中，每个请求首先会去访问云端配置好的技能，获取解析结果。"}
{"wav_id": "112", "speaker": "112", "offset": "367.750", "duration": "7.660", "wav": "112.wav", "translation": "Then, the DM Kit finds the appropriate policy in the corresponding json file according to the skill ID and the parsing result.", "transcript": "然后根据技能ID以及解析结果，DM Kit在对应技能的json文件中找到对应的policy进行执行。"}
{"wav_id": "112", "speaker": "112", "offset": "375.740", "duration": "3.890", "wav": "112.wav", "translation": "We have already introduced that functions can be defined as parameters in a policy.", "transcript": "另外我们前面介绍到policy中可以定义函数类型的参数。"}
{"wav_id": "112", "speaker": "112", "offset": "379.820", "duration": "3.300", "wav": "112.wav", "translation": "These functions now need to be defined and implemented in the DM Kit.", "transcript": "这里的函数需要在DM Kit中进行定义并实现。"}
{"wav_id": "112", "speaker": "112", "offset": "383.480", "duration": "6.520", "wav": "112.wav", "translation": "The DM Kit has some built-in common functions that are provided as shared functions, including the operation for requesting external services to parse data.", "transcript": "DM Kit内置了一些常用函数作为共享函数，包括请求外部服务解析数据的操作。"}
{"wav_id": "112", "speaker": "112", "offset": "390.140", "duration": "1.720", "wav": "112.wav", "translation": "All skills can called directly.", "transcript": "所有技能都可以直接调用。"}
{"wav_id": "112", "speaker": "112", "offset": "392.030", "duration": "5.030", "wav": "112.wav", "translation": "Developers can also customize functions and call them to meet their specific business requirements.", "transcript": "同时开发者还可以根据实际业务需求实现定制函数并调用。"}
{"wav_id": "112", "speaker": "112", "offset": "399.640", "duration": "3.700", "wav": "112.wav", "translation": "Next up, we will take a detailed look at the configuration structure and usage of the DM Kit.", "transcript": "下面我们详细介绍一下DM Kit的配置结构以及使用方法。"}
{"wav_id": "112", "speaker": "112", "offset": "403.840", "duration": "2.770", "wav": "112.wav", "translation": "The codes for the DM Kit are open-source and are hosted on GitHub.", "transcript": "DM Kit的代码开源并托管在GitHub上。"}
{"wav_id": "112", "speaker": "112", "offset": "406.900", "duration": "4.670", "wav": "112.wav", "translation": "In practice, developers can implement the majority of dialogue process management via configuration.", "transcript": "实际使用中，开发者通过配置就可以实现大部分的对话流程管理。"}
{"wav_id": "112", "speaker": "112", "offset": "412.040", "duration": "2.910", "wav": "112.wav", "translation": "The configuration files for the DM Kit can be found in the conf directory.", "transcript": "DM Kit的配置文件都在代码的conf目录下。"}
{"wav_id": "112", "speaker": "112", "offset": "415.240", "duration": "3.600", "wav": "112.wav", "translation": "From top to bottom, the first file is bot_tokens.json.", "transcript": "我们从上往下看，第一个文件是bot_tokens.json。"}
{"wav_id": "112", "speaker": "112", "offset": "419.110", "duration": "4.470", "wav": "112.wav", "translation": "Developers can register in this file the api key and secret key that correspond to the skill on the cloud.", "transcript": "开发者可以将云端技能对应的api key和secret key注册在这个文件中。"}
{"wav_id": "112", "speaker": "112", "offset": "424.020", "duration": "3.010", "wav": "112.wav", "translation": "This means that an access token is not required when making a request to the DM Kit.", "transcript": "这样请求DM Kit的时候就不需要带上access token。"}
{"wav_id": "112", "speaker": "112", "offset": "427.480", "duration": "3.690", "wav": "112.wav", "translation": "The demo directory contains the policy configuration files for our two demo scenarios.", "transcript": "demo目录下是我们提供的两个demo场景的policy配置文件。"}
{"wav_id": "112", "speaker": "112", "offset": "431.610", "duration": "4.510", "wav": "112.wav", "translation": "The json file for each scenario is the policy configuration loaded by the DM Kit.", "transcript": "每一个场景对应的json文件是DM Kit实际加载的policy配置。"}
{"wav_id": "112", "speaker": "112", "offset": "436.470", "duration": "2.080", "wav": "112.wav", "translation": "The xml files will be introduced later.", "transcript": "xml文件我们后面会再介绍。"}
{"wav_id": "112", "speaker": "112", "offset": "438.910", "duration": "4.400", "wav": "112.wav", "translation": "The products.json file is used to register the skills and the appropriate policy configuration files.", "transcript": "products.json文件用于注册技能和它对应的policy配置文件。"}
{"wav_id": "112", "speaker": "112", "offset": "443.610", "duration": "9.190", "wav": "112.wav", "translation": "For each skill, the skill ID and file path of a policy must be registered in this file to ensure correct loading and execution of the policy.", "transcript": "每一个技能都需要将对应的技能ID和policy文件路径注册在这个文件中，实际访问的时候policy才能被正确加载执行。"}
{"wav_id": "112", "speaker": "112", "offset": "453.150", "duration": "12.200", "wav": "112.wav", "translation": "The remote_services.json file is used to configure the external service addresses to be accessed by the DM Kit service, including the UNIT's cloud address and any third-party services' addresses, which must be registered in this file to ensure access is available.", "transcript": "remote_services_json文件用来配置DM Kit服务所需要访问的外部服务地址，包括UNIT云端地址以及第三方的服务地址,都需要在这个文件中进行注册才能被正常访问。"}
{"wav_id": "112", "speaker": "112", "offset": "465.830", "duration": "6.730", "wav": "112.wav", "translation": "The gflag.conf file is mainly used to configure DM Kit settings such as service port, request path and number of concurrent requests.", "transcript": "最后gflag.conf文件主要是配置DM Kit的服务端口、请求路径以及并发数等设置。"}
{"wav_id": "112", "speaker": "112", "offset": "472.810", "duration": "1.530", "wav": "112.wav", "translation": "Generally it's not necessary to change these settings.", "transcript": "一般情况下不需要改动。"}
{"wav_id": "112", "speaker": "112", "offset": "477.240", "duration": "3.460", "wav": "112.wav", "translation": "The core of the DM Kit configuration is policy configuration.", "transcript": "在DM Kit的配置中最核心的是policy的配置。"}
{"wav_id": "112", "speaker": "112", "offset": "480.810", "duration": "6.140", "wav": "112.wav", "translation": "Each skill needs to be configured with a json file, which contains a series of policies in an array.", "transcript": "每一个技能都需要配置一个json文件，这个json文件包括了一系列的policy组成的数组。"}
{"wav_id": "112", "speaker": "112", "offset": "487.330", "duration": "4.740", "wav": "112.wav", "translation": "The configuration syntax of each policy element in the array should comply with the specifications defined by the DM Kit.", "transcript": "数组中每一个policy元素的配置语法需要遵循DM Kit定义的规范。"}
{"wav_id": "112", "speaker": "112", "offset": "492.180", "duration": "5.200", "wav": "112.wav", "translation": "This mainly involves three parts: trigger conditions, business parameters and output definitions.", "transcript": "它主要包括了我们前面介绍的触发条件、业务参数以及输出定义三个部分。"}
{"wav_id": "112", "speaker": "112", "offset": "497.730", "duration": "2.220", "wav": "112.wav", "translation": "Here we list the main fields and descriptions.", "transcript": "这里我们列出了主要的字段说明。"}
{"wav_id": "112", "speaker": "112", "offset": "500.030", "duration": "3.920", "wav": "112.wav", "translation": "For more information, you can log in to our official GitHub page and refer to the detailed documentation.", "transcript": "更多的介绍大家可以登录我们的官方GitHub，参考详细的文档。"}
{"wav_id": "112", "speaker": "112", "offset": "504.630", "duration": "5.960", "wav": "112.wav", "translation": "Developers can implement the dialogue management capability of a skill by configure the policy based on the dialogue logic.", "transcript": "开发者根据实际对话逻辑编写policy配置就可以实现一个技能的对话管理能力。"}
{"wav_id": "112", "speaker": "112", "offset": "510.750", "duration": "7.400", "wav": "112.wav", "translation": "They can also define functions as parameters in order to implement dialogue logic that requires special processing or to access external services.", "transcript": "对于一些需要进行特殊处理或者访问外部服务的对话逻辑，可以通过定义函数类型的参数来实现。"}
{"wav_id": "112", "speaker": "112", "offset": "520.560", "duration": "7.440", "wav": "112.wav", "translation": "After editing the policy file for the skill, we need to register it and its skill ID in the configuration file products.json .", "transcript": "编辑完技能的policy文件之后，我们还需要把这个文件和它对应的技能ID注册到products.json配置文件中。"}
{"wav_id": "112", "speaker": "112", "offset": "528.250", "duration": "5.640", "wav": "112.wav", "translation": "Developers can also register the api key and secret key of the skill to the file bot_tokens.", "transcript": "另外开发者可以将技能的api key和secret key注册到bot_tokens这个配置文件里。"}
{"wav_id": "112", "speaker": "112", "offset": "533.970", "duration": "8.180", "wav": "112.wav", "translation": "This means that the DM Kit automatically gets an access token when communicating with the cloud, and the user does not need to upload a token when requesting the DM Kit.", "transcript": "这样DM Kit与云端进行通讯的时候会自动获取access token，用户在请求DM Kit的时候就不需要再上传token。"}
{"wav_id": "112", "speaker": "112", "offset": "545.560", "duration": "6.320", "wav": "112.wav", "translation": "After editing the policy file and registering it, how do we test the performance of the skill?", "transcript": "好，前面编辑了policy文件，并且注册完成之后，我们要怎么样来测试这个技能的效果呢？"}
{"wav_id": "112", "speaker": "112", "offset": "552.430", "duration": "4.700", "wav": "112.wav", "translation": "First, we need to download the codes for the DM Kit from GitHub and compile them.", "transcript": "首先我们需要将DM Kit的代码从GitHub上下载下来并且完成编译。"}
{"wav_id": "112", "speaker": "112", "offset": "557.440", "duration": "7.930", "wav": "112.wav", "translation": "After compilation, we replace the configuration file in the output directory with the pre-edited file, and then run the DM Kit.", "transcript": "编译完成之后把编译产出目录下的配置文件替换为我们前面编辑好的配置文件，之后就可以运行DM Kit。"}
{"wav_id": "112", "speaker": "112", "offset": "565.640", "duration": "8.590", "wav": "112.wav", "translation": "The configuration of the DM Kit is modified with the file gflag in the conf directory, which contains the port and path of the service request.", "transcript": "DM Kit的服务配置通过conf目录下的gflag文件进行修改，这个文件配置包含了服务请求的端口和路径。"}
{"wav_id": "112", "speaker": "112", "offset": "574.370", "duration": "2.460", "wav": "112.wav", "translation": "In general, we use the default configuration.", "transcript": "一般情况下我们使用默认的配置就可以。"}
{"wav_id": "112", "speaker": "112", "offset": "577.440", "duration": "5.030", "wav": "112.wav", "translation": "Once the DM Kit is running, we can access the service interface of the DM Kit to test the dialogue.", "transcript": "DM Kit运行之后，我们就可以访问DM Kit的服务接口来测试对话。"}
{"wav_id": "112", "speaker": "112", "offset": "582.670", "duration": "4.290", "wav": "112.wav", "translation": "The interface protocol of the DM Kit is compatible with the dialogue interface protocol of UNIT 2.0.", "transcript": "DM Kit的接口协议与UNIT2.0的对话接口协议是兼容的。"}
{"wav_id": "112", "speaker": "112", "offset": "587.300", "duration": "4.590", "wav": "112.wav", "translation": "Developers can access the DM Kit service by assembling the json data according to the protocol.", "transcript": "开发者按照协议组装json数据就可以正常访问DM Kit服务。"}
{"wav_id": "112", "speaker": "112", "offset": "592.170", "duration": "6.600", "wav": "112.wav", "translation": "We also provide the Python script. Users can run this script to simulate dialogues with local DM Kit services.", "transcript": "另外我们还提供了Python脚本，用户运行这个脚本就可以模拟和本地DM Kit服务进行对话交互。"}
{"wav_id": "112", "speaker": "112", "offset": "599.130", "duration": "6.090", "wav": "112.wav", "translation": "Of course, these operations assume that the skills in the UNIT cloud have been trained and can run normally.", "transcript": "当然我们这些操作的前提是UNIT云端的技能已经训练好，并且能正常运行了。"}
{"wav_id": "112", "speaker": "112", "offset": "608.740", "duration": "3.560", "wav": "112.wav", "translation": "Now, I will introduce the DM Kit's visual configuration tool.", "transcript": "最后我们来介绍一下DM Kit的可视化配置工具。"}
{"wav_id": "112", "speaker": "112", "offset": "612.620", "duration": "4.120", "wav": "112.wav", "translation": "We have looked at how to configure a policy so as to manage the dialogue process.", "transcript": "前面我们介绍了怎么样配置policy来实现对话流程的管理。"}
{"wav_id": "112", "speaker": "112", "offset": "617.100", "duration": "7.700", "wav": "112.wav", "translation": "For dialogues with many complex state changes, we can use visual tools to design and edit the dialogue process in the DM kit.", "transcript": "而针对状态繁多、跳转复杂的对话，DM Kit支持通过可视化工具来进行对话流程的编辑设计。"}
{"wav_id": "112", "speaker": "112", "offset": "624.960", "duration": "5.900", "wav": "112.wav", "translation": "Here we use the open-source mxgraph as the visual tool following four steps.", "transcript": "这里的可视化工具我们使用开源的mxgraph，具体的包括下面四个步骤。"}
{"wav_id": "112", "speaker": "112", "offset": "631.500", "duration": "6.220", "wav": "112.wav", "translation": "Step 1: Edit the dialogue process on the draw.io website according to the pre-defined rules.", "transcript": "第一步我们在draw.io这个网站上,按照预先定义好的编辑规则来编辑对话流程。"}
{"wav_id": "112", "speaker": "112", "offset": "638.140", "duration": "7.440", "wav": "112.wav", "translation": "Step 2: After editing the dialogue process, export the dialogue flow chart in an xml file, and store it in the configuration directory of the DM Kit.", "transcript": "第二步编辑完对话流程之后，我们将对话流程图导出为xml文件,放在DM Kit的配置目录下。"}
{"wav_id": "112", "speaker": "112", "offset": "645.910", "duration": "4.830", "wav": "112.wav", "translation": "The xml file for the demo scenario we saw earlier was edited and exported using this tool.", "transcript": "前面我们看到了demo场景的xml文件，就是通过这个工具编辑导出的。"}
{"wav_id": "112", "speaker": "112", "offset": "651.190", "duration": "2.530", "wav": "112.wav", "translation": "Step 3: Generate the json configuration file.", "transcript": "第三步生成json配置文件。"}
{"wav_id": "112", "speaker": "112", "offset": "653.920", "duration": "1.860", "wav": "112.wav", "translation": "The DM Kit provides a conversion script.", "transcript": "DM Kit提供了转换脚本。"}
{"wav_id": "112", "speaker": "112", "offset": "655.920", "duration": "8.200", "wav": "112.wav", "translation": "Developers can run the program run.py in the language_complier directory, which converts the xml file into a corresponding json file.", "transcript": "开发者运行language_complier目录下run.py的程序，这个程序就会将xml文件转成对应的json文件。"}
{"wav_id": "112", "speaker": "112", "offset": "664.400", "duration": "7.920", "wav": "112.wav", "translation": "Step 4: After registering the json file and the corresponding skill ID following the same process as before, we can run the DM Kit to load and execute it.", "transcript": "最后按照和前面一样的流程把这个json文件和对应的技能ID注册之后就可以运行DM Kit加载执行。"}
{"wav_id": "112", "speaker": "112", "offset": "675.460", "duration": "4.750", "wav": "112.wav", "translation": "When editing a dialogue process with a visual tool, we need to follow certain rules.", "transcript": "可视化编辑对话流程的时候，我们是需要遵循一定的编辑规则的。"}
{"wav_id": "112", "speaker": "112", "offset": "680.490", "duration": "4.120", "wav": "112.wav", "translation": "These rules are very simple, and we have defined several types of compositional elements shown below.", "transcript": "这个编辑规则其实很简单，我们定义了下面几种构图元素。"}
{"wav_id": "112", "speaker": "112", "offset": "684.860", "duration": "1.480", "wav": "112.wav", "translation": "The first type are one-way arrow lines.", "transcript": "首先是单箭头连线。"}
{"wav_id": "112", "speaker": "112", "offset": "686.410", "duration": "3.250", "wav": "112.wav", "translation": "They connect to other elements, indicating changes of state.", "transcript": "它用来连接其他的元素，表示状态的跳转。"}
{"wav_id": "112", "speaker": "112", "offset": "690.030", "duration": "1.510", "wav": "112.wav", "translation": "The second type ellipses.", "transcript": "第二个元素是椭圆。"}
{"wav_id": "112", "speaker": "112", "offset": "691.610", "duration": "4.180", "wav": "112.wav", "translation": "They indicate user nodes, in which are dialogue intents and slots.", "transcript": "表示用户节点，它用来存放用户的对话意图以及词槽。"}
{"wav_id": "112", "speaker": "112", "offset": "695.860", "duration": "3.550", "wav": "112.wav", "translation": "They correspond to triggers in the policy syntax we mentioned earlier.", "transcript": "对应到前面的policy语法，其实就是policy的触发条件。"}
{"wav_id": "112", "speaker": "112", "offset": "700.620", "duration": "1.750", "wav": "112.wav", "translation": "The third type are rounded rectangles.", "transcript": "第三个是圆角矩形。"}
{"wav_id": "112", "speaker": "112", "offset": "702.500", "duration": "5.340", "wav": "112.wav", "translation": "They indicate BOT nodes, where parameters and BOT replies can be defined.", "transcript": "它用来表示BOT节点,节点中可以定义参数和BOT回复。"}
{"wav_id": "112", "speaker": "112", "offset": "707.910", "duration": "3.710", "wav": "112.wav", "translation": "They correspond to the business parameters and outputs in the policy syntax.", "transcript": "对应到policy的语法，其实是policy的业务参数和输出。"}
{"wav_id": "112", "speaker": "112", "offset": "712.940", "duration": "1.250", "wav": "112.wav", "translation": "The last type are diamonds.", "transcript": "最后一个是菱形。"}
{"wav_id": "112", "speaker": "112", "offset": "714.260", "duration": "1.490", "wav": "112.wav", "translation": "They indicate conditional judgments.", "transcript": "用来表示条件判断。"}
{"wav_id": "112", "speaker": "112", "offset": "715.910", "duration": "2.960", "wav": "112.wav", "translation": "When different conditions are met, access to different output nodes is granted.", "transcript": "当满足不同的条件时进入不同的输出节点。"}
{"wav_id": "112", "speaker": "112", "offset": "719.030", "duration": "3.990", "wav": "112.wav", "translation": "In policy syntax, these are the conditions in the definition of output.", "transcript": "对应到policy语法其实就是输出定义中的条件限制。"}
{"wav_id": "112", "speaker": "112", "offset": "724.790", "duration": "4.550", "wav": "112.wav", "translation": "Using these compositional elements, we can edit a complete dialogue flow chart.", "transcript": "使用上面的几种构图元素，我们可以编辑出一个完整的对话流程图。"}
{"wav_id": "112", "speaker": "112", "offset": "729.440", "duration": "5.200", "wav": "112.wav", "translation": "For example, this is a complete dialogue flow chart for the hotel booking example we looked at in the previous section.", "transcript": "例如这个就是我们在前面章节介绍过的预订酒店的完整的对话流程图。"}
{"wav_id": "112", "speaker": "112", "offset": "735.000", "duration": "4.500", "wav": "112.wav", "translation": "You can refer to lesson three for the detailed building steps for this example.", "transcript": "这个例子的详细搭建步骤大家可以参考前面第三章的课程内容。"}
{"wav_id": "112", "speaker": "112", "offset": "741.590", "duration": "0.480", "wav": "112.wav", "translation": "OK.", "transcript": "好的。"}
{"wav_id": "112", "speaker": "112", "offset": "742.160", "duration": "1.780", "wav": "112.wav", "translation": "That's all for this lesson.", "transcript": "以上就是本节课的全部内容。"}
{"wav_id": "112", "speaker": "112", "offset": "744.120", "duration": "0.740", "wav": "112.wav", "translation": "Thank you all!", "transcript": "谢谢大家！"}
